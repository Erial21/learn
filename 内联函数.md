## 内联函数

### 定义
函数被反复调用，会不断有函数入栈，用多了可能会栈溢出。

为了解决这个问题就引入了**内联函数**。

### 例子

``` cpp
#include <stdio.h>  
 
//函数定义为inline即:内联函数  
inline char* dbtest(int a) 
{  
	return (i % 2 > 0) ? "奇" : "偶";  
}   
  
int main()  
{  
	int i = 0;  
	for (i=1; i < 100; i++) 
	{  
		printf("i:%d    奇偶性:%s /n", i, dbtest(i));      
	}  
}
```
上述代码就是把for循环中的dbtest(i)全部替换成(i % 2 > 0) ? "奇" : "偶"；避免了频繁调用函数。

### 编程风格

1. 定义方式：
```cpp
inline void Foo(int x,int y);

void Foo(int x,int y){
}
//这样不行，inline需要放在函数定义前面。

//如以下方式：

void Foo(int x,int y);

inline void Foo(int x,int y){
}
```

2. 有限制
**内联函数只适合代码简单的函数使用**，复杂如while、switch，且内联函数本身不能是**直接递归函数**（自己调用自己）。

### 代价

内联是以代码膨胀（赋值）为代价，仅仅通过省去了函数调用的开销来提高函数执行效率。

每一处内联函数的调用都需要复制代码，使程序总代码量大，消耗更多内存。

**不宜使用内联函数的情况：**
- 函数体代码较长，内联使内存消耗大。
- 函数体出现循环，那么执行时间会比函数调用开销大。